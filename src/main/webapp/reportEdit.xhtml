<ui:composition template="/WEB-INF/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:b="http://bootsfaces.net/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">Bericht bearbeiten</ui:define>

    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="reportId" value="#{reportBean.reportId}"/>
            <f:viewAction action="#{reportBean.initReport()}" />
        </f:metadata>
        <b:container rendered="#{sessionBean.isLoggedIn}">
            <h:form id="editReportFormId">
                <b:inputText value="#{reportBean.report.author.getFullName()}" label="Author" disabled="true"/>
                <b:inputText value="#{reportBean.report.title}" label="Titel" required="true" requiredMessage="Bitte Titel angeben"/>
                <b:inputText value="#{reportBean.report.summary}" label="Zusammenfassung" required="true" requiredMessage="Bitte Zusammenfassung angeben"/>
                <b:panelGrid colSpans="4,4,4">
                    <b:inputText value="#{reportBean.report.season.name}" label="Saison" disabled="true"/>
                    <b:inputText value="#{reportBean.report.team.name}" label="Team" disabled="true"/>
                    <b:inputText value="#{reportBean.report.type.label}" label="Berichtart" disabled="true"/>
                </b:panelGrid>
                <b:inputTextarea value="#{reportBean.report.text}" rows="20"
                                 label="Text" required="true"
                                 requiredMessage="Es sind keine leeren Berichte erlaubt"/>
                <h:inputHidden value="#{reportBean.report.id}"/>
                <b:commandButton value="Speichern" look="success" size="sm"
                                 action="#{reportBean.updateReport}"/>
            </h:form>
        </b:container>
    </ui:define>
</ui:composition>