<ui:composition template="/WEB-INF/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:b="http://bootsfaces.net/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="title"><h:outputText value="#{pageLabel['report.title']}"/></ui:define>

    <ui:define name="content">
        <b:container rendered="#{userSessionBean.isUserInRole('PRESS')}">
            <h:form id="addReportFormId" enctype="multipart/form-data">
                <b:inputText value="#{userSessionBean.member.getFullName()}" label="#{pageLabel['report.author']}" disabled="true"/>
                <b:inputText value="#{reportBean.report.title}" label="#{pageLabel['report.reportTitle']}" required="true" requiredMessage="Bitte Titel angeben">
                    <b:focus/>
                </b:inputText>
                <b:inputText value="#{reportBean.report.summary}" label="#{pageLabel['report.summary']}" required="true" requiredMessage="Bitte Zusammenfassung angeben"/>
                <b:panelGrid colSpans="4,4,4">
                    <b:selectOneMenu value="#{reportBean.report.season}" label="#{pageLabel['report.season']}">
                    <f:selectItems value="#{seasonBean.seasons}" var="season" itemValue="#{season}"
                                   itemLabel="#{season.name}"/>
                    </b:selectOneMenu>

                    <b:selectOneMenu value="#{reportBean.report.team}" label="#{pageLabel['report.team']}">
                        <f:selectItem itemLabel="Bitte auswählen" itemValue="" />
                        <f:selectItems value="#{teamBean.teams}" var="team" itemValue="#{team}"
                                       itemLabel="#{team.name}"/>
                    </b:selectOneMenu>
                    <b:selectOneMenu value="#{reportBean.report.type}" label="#{pageLabel['report.reportType']}" required="true" requiredMessage="Bitte Berichttyp auswählen">
                        <f:selectItem itemLabel="Bitte auswählen" itemValue="" />
                        <f:selectItems value="#{enumBean.getReportTypes()}" var="type" itemValue="#{type}"
                                       itemLabel="#{type.label}"/>
                    </b:selectOneMenu>
                </b:panelGrid>
                <b:inputTextarea value="#{reportBean.report.text}" label="#{pageLabel['report.text']}" required="true"
                                 requiredMessage="Es sind keine leeren Berichte erlaubt"/>
                <h:inputFile value="#{reportBean.file}" styleClass="btn btn-default"
                             style="margin-bottom: 15px;" />
                <b:commandButton value="#{label['button.save']}" look="success"
                                 action="#{reportBean.saveReport}"/>
            </h:form>
        </b:container>
    </ui:define>
</ui:composition>